<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="fantasy">
<title>Managing your team • fantasy</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Managing your team">
<meta property="og:description" content="fantasy">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fantasy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/getting-data.html">Extracting data</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/your-team.html">Managing your team</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-more">More</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-more">
    <a class="dropdown-item" href="../articles/authenticating.html">Authenticating</a>
    <a class="dropdown-item" href="../articles/example-tasks.html">Example tasks</a>
    <a class="dropdown-item" href="../reference/index.html">Reference</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Managing your team</h1>
            
      
      
      <div class="d-none name"><code>your-team.Rmd</code></div>
    </div>

    
    
<p>This vignette outlines how you can use the fantasy package to make
any changes that you would usually make on the FPL website, via R.</p>
<p>Before you run any of the functions outlined in this article, you
must first authenticate yourself. See the ‘Authenticating’ article for
more information</p>
<div class="section level4">
<h4 id="the-team-object">The <code>&lt;team&gt;</code> object<a class="anchor" aria-label="anchor" href="#the-team-object"></a>
</h4>
<p>Behind all of the functionality described below, is the
<code>&lt;team&gt;</code> class that is provided with the package. This
class ensures all the validation and output formatting, as well as
restricting the use of the functions provided in the package, to avoid
errors.</p>
<p>All a <code>&lt;team&gt;</code> object is, is a tibble of 15 players,
with three key attributes: the player ID of the captain, the player ID
of the vice-captain, and the ‘submission order’ of the team (FPL
requires players to be in position order, for both the starting XI and
the bench). In addition to this, there are several restrictions on how
the team can be constructed and the object is validated after every
attempted action - see the <a href="https://www.premierleague.com/news/1252542" class="external-link">FPL Website</a> for
more information on what these restrictions are.</p>
<p><strong>IMPORTANT</strong>: Note that no changes will be made to your
fantasy team until you confirm your changes, and that once this is done
<em>it cannot be undone</em>. For most actions this does not matter as
you can make a substitution or change your captain as many times as you
want, but if you make a transfer it <strong>will</strong> count towards
your transfer quota (which for most gameweeks is 1). The
<code><a href="../reference/update_team.html">update_team()</a></code> function will by default ask for confirmation
when you confirm a transfer but it is worth making sure you understand
this - {fantasy} will not be to blame if you confirm a transfer you end
up regretting!</p>
</div>
<div class="section level2">
<h2 id="making-a-substitution">Making a substitution<a class="anchor" aria-label="anchor" href="#making-a-substitution"></a>
</h2>
<p>To make a substitution, you need the IDs of the two players you want
to swap. Note that here, a substitution is just a swap of two players in
your squad. This means you can also use the substitution function to
change the order of players on your bench.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_team</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_my_team.html">get_my_team</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">my_team</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Sub the keeper</span></span>
<span><span class="va">my_team</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/team_substitute.html">team_substitute</a></span><span class="op">(</span>p1 <span class="op">=</span> <span class="fl">376</span>,</span>
<span>                  p2 <span class="op">=</span> <span class="fl">398</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Swap bench order</span></span>
<span><span class="va">my_team</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/team_substitute.html">team_substitute</a></span><span class="op">(</span>p1 <span class="op">=</span> <span class="fl">237</span>,</span>
<span>                  p2 <span class="op">=</span> <span class="fl">199</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="changing-captain-or-vice-captain">Changing captain or vice-captain<a class="anchor" aria-label="anchor" href="#changing-captain-or-vice-captain"></a>
</h2>
<p>Setting your captain or vice-captain can be done by assigning the
roles using the <code><a href="../reference/assign_role.html">assign_role()</a></code> function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set Salah as captain</span></span>
<span><span class="va">my_team</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/assign_role.html">assign_role</a></span><span class="op">(</span>pid <span class="op">=</span> <span class="fl">283</span>,</span>
<span>              role <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set Pope as vice-captain</span></span>
<span><span class="va">my_team</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/assign_role.html">assign_role</a></span><span class="op">(</span>pid <span class="op">=</span> <span class="fl">376</span>,</span>
<span>              role <span class="op">=</span> <span class="st">"vc"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="making-a-transfer">Making a transfer<a class="anchor" aria-label="anchor" href="#making-a-transfer"></a>
</h2>
<p>Transfers can be made without using the <code><a href="../reference/update_team.html">update_team()</a></code>
function as many times as you’d like, this gives you the opportunity to
see what your team would look like before confirming your changes.
Similiarly, this is useful for when you want to use your wildcard or
free hit.</p>
<p>{fantasy} also provides a helper function for identifying potential
transfer targets. This function - <code>show_transfer_targets()</code>
takes in the ID of a current squad player and returns a tibble of
players who are a) the same position and b) affordable for the team,
arranged by cost, points and selection %. The tibble gives all the
available statistics for the players.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Show all potential replacements for Mo Salah</span></span>
<span><span class="fu"><a href="../reference/get_transfer_targets.html">get_transfer_targets</a></span><span class="op">(</span><span class="va">my_team</span>,</span>
<span>                     p_out <span class="op">=</span> <span class="fl">283</span><span class="op">)</span></span></code></pre></div>
<p>You can use the returned tibble to get the ID of the player you want
to transfer in:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Transfer in Raheem Sterling for Mo Salah</span></span>
<span><span class="va">my_team</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/team_transfer.html">team_transfer</a></span><span class="op">(</span>p_out <span class="op">=</span> <span class="fl">283</span>,</span>
<span>                p_in <span class="op">=</span> <span class="fl">304</span><span class="op">)</span></span></code></pre></div>
<p>If you try to make an invalid transfer, the package will not allow
it.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_team</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/team_transfer.html">team_transfer</a></span><span class="op">(</span>p_out <span class="op">=</span> <span class="fl">370</span>,</span>
<span>                p_in <span class="op">=</span> <span class="fl">304</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="confirming-your-changes">Confirming your changes<a class="anchor" aria-label="anchor" href="#confirming-your-changes"></a>
</h2>
<p>Before using the <code><a href="../reference/update_team.html">update_team()</a></code> function, it is
<strong>strongly</strong> recommended that you review your changes with
the <code><a href="../reference/summarise_team_changes.html">summarise_team_changes()</a></code> function. This will notify you
of any changes you have made.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_team</span> <span class="op">&lt;-</span> <span class="va">my_team</span>  <span class="op">%&gt;%</span></span>
<span>  <span class="co"># Sub keeper</span></span>
<span>  <span class="fu"><a href="../reference/team_substitute.html">team_substitute</a></span><span class="op">(</span>p1 <span class="op">=</span> <span class="fl">376</span>,</span>
<span>                  p2 <span class="op">=</span> <span class="fl">398</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># Swap bench order</span></span>
<span>  <span class="fu"><a href="../reference/team_substitute.html">team_substitute</a></span><span class="op">(</span>p1 <span class="op">=</span> <span class="fl">237</span>,</span>
<span>                  p2 <span class="op">=</span> <span class="fl">199</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># Set Martinelli to captain</span></span>
<span>  <span class="fu"><a href="../reference/assign_role.html">assign_role</a></span><span class="op">(</span>pid <span class="op">=</span> <span class="fl">19</span>,</span>
<span>              role <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># Set newly subbed-in keeper (Henderson) as vice-captain</span></span>
<span>  <span class="fu"><a href="../reference/assign_role.html">assign_role</a></span><span class="op">(</span>pid <span class="op">=</span> <span class="fl">398</span>,</span>
<span>              role <span class="op">=</span> <span class="st">"vc"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># Replace Salah with Sterling</span></span>
<span>  <span class="fu"><a href="../reference/team_transfer.html">team_transfer</a></span><span class="op">(</span>p_out <span class="op">=</span> <span class="fl">283</span>,</span>
<span>                p_in <span class="op">=</span> <span class="fl">304</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compare with the original team</span></span>
<span><span class="fu"><a href="../reference/summarise_team_changes.html">summarise_team_changes</a></span><span class="op">(</span>current <span class="op">=</span> <span class="va">new_team</span>,</span>
<span>                       previous <span class="op">=</span> <span class="va">my_team</span><span class="op">)</span></span></code></pre></div>
<p>Note that changes to order (e.g. in the code chunk above, shuffling
the bench and putting Tarkowski as first sub) are not reported by
<code><a href="../reference/summarise_team_changes.html">summarise_team_changes()</a></code>. But this can be verified by
simply viewing the team again.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_team</span></span></code></pre></div>
<p>If you are happy with your new team and the various changes, you can
confirm these changes with the update_team() function.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_team</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/update_team.html">update_team</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-your-wildcard-triple-captain-or-sub-boost">Using your wildcard, triple captain or sub boost<a class="anchor" aria-label="anchor" href="#using-your-wildcard-triple-captain-or-sub-boost"></a>
</h2>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Chris Brownlie.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
